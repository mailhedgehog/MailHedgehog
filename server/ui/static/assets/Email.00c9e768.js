import{o as n,c as r,a as t,i as N,b as z,l as $,J as Y,L as Z,e as he,d as J,m as ee,p as te,g as T,w as k,v as x,k as e,n as V,j as H,t as i,q as w,K as B,s as b,M as se,N as oe,u as ve,x as g,F as S,f as q,A as fe}from"./index.13002cb2.js";import{u as _e,a as ye,b as we,c as ke,r as be,d as ge,e as $e,f as Ce}from"./email-attachments.b5509c0f.js";import{N as ne,o as U,_ as ae,U as re,f as le}from"./transition.de004f93.js";import{r as Ee}from"./TrashIcon.90a2ada3.js";import{r as Se}from"./EyeIcon.0e3c9f52.js";import{r as D}from"./ExclamationTriangleIcon.a6724537.js";import"./use-outside-click.d8198c27.js";function Me(s,a){return n(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5m8.25 3v6.75m0 0l-3-3m3 3l3-3M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"})])}function Le(s,a){return n(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5m6 4.125l2.25 2.25m0 0l2.25 2.25M12 13.875l2.25-2.25M12 13.875l-2.25 2.25M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"})])}function Re(s,a){return n(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 12h-15m0 0l6.75 6.75M4.5 12l6.75-6.75"})])}function je(s,a){return n(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 15L12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9"})])}function qe(s,a){return n(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"})])}function Be(s,a){return n(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})])}function Te(s,a){return n(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7.217 10.907a2.25 2.25 0 100 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186l9.566-5.314m-9.566 7.5l9.566 5.314m0 0a2.25 2.25 0 103.935 2.186 2.25 2.25 0 00-3.935-2.186zm0-12.814a2.25 2.25 0 103.933-2.185 2.25 2.25 0 00-3.933 2.185z"})])}function ie(){const s=N("MailHedgehog"),{t:a}=z(),c=$(!1),u=$(!1),m=$({host:"",port:25,username:"",password:""}),y=()=>{const o=localStorage.getItem("smtpReleaseCredentials");if(o){try{const l=JSON.parse(atob(o));typeof l=="object"&&!Array.isArray(l)&&l!==null&&(l.host&&(m.value.host=l.host),l.port&&(m.value.port=l.port),l.username&&(m.value.username=l.username),l.password&&(m.value.password=l.password))}catch(l){s==null||s.error(l==null?void 0:l.message)}console.error(m.value)}};return{isOpenReleaseModal:u,releaseForm:m,fromLocalStorage:y,clearFromLocalStorage:()=>{localStorage.removeItem("smtpReleaseCredentials"),s==null||s.success(a("release.deleted"))},saveToLocalStorage:()=>{const o={};m.value.host&&(o.host=m.value.host),m.value.port&&(o.port=m.value.port),m.value.username&&(o.username=m.value.username),m.value.password&&(o.password=m.value.password),localStorage.setItem("smtpReleaseCredentials",btoa(JSON.stringify(o))),y(),s==null||s.success(a("release.saved"))},releaseEmail:o=>{!o||(c.value=!0,s==null||s.request().post(`emails/${o==null?void 0:o.id}/release`,m.value).then(()=>{u.value=!1,s==null||s.success(a("email.released"))}).catch(()=>{s==null||s.error(a("response.error"))}).finally(()=>{c.value=!1}))},isRequestingReleaseEmail:c}}function de(){const s=N("MailHedgehog"),{t:a}=z(),c=Y();Z();const u=he(()=>s==null?void 0:s.configValue("sharing.enabled",!1)),m=$(!1),y=$(!1),_=$(null),p=$({expiration_in:1440});return{isSharingEnabled:u,isOpenShareModal:y,isRequestingShareEmail:m,shareForm:p,shareLink:_,shareEmail:o=>{!o||(m.value=!0,s==null||s.request().post(`emails/${o==null?void 0:o.id}/share`,p.value).then(l=>{var A,M;s==null||s.success(a("email.linkCreated"));const f=(M=(A=l.data)==null?void 0:A.data)==null?void 0:M.id;if(!f){s==null||s.error(a("response.error"));return}_.value=`${window.location.origin}/${c.resolve({name:"sharedMail",params:{id:f}}).href}`}).catch(()=>{s==null||s.error(a("response.error"))}).finally(()=>{m.value=!1}))}}}const Ve=t("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),ze={class:"fixed inset-0 z-10 overflow-y-auto"},Ae={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},Fe={class:"text-center sm:mt-5"},Ue={class:"mt-6 text-left text-context-900 dark:text-context-100"},Ne={class:"space-y-6"},Ie={for:"host",class:"form-label"},Oe={class:"mt-1 flex"},De={for:"smtp-username",class:"form-label"},Je={class:"mt-1"},He=["placeholder"],Ke=["placeholder"],Ge={class:"mt-6 sm:mt-8 flex items-center justify-between"},Pe={class:"flex space-x-2 mx-2"},Qe=J({__name:"ReleaseEmail",props:{email:{default:null},show:{type:Boolean,default:!1},requesting:{type:Boolean,default:!1}},emits:["close"],setup(s,{emit:a}){const{t:c}=z(),{releaseForm:u,clearFromLocalStorage:m,fromLocalStorage:y,saveToLocalStorage:_,releaseEmail:p}=ie();return ee(()=>{y()}),(v,o)=>{const l=te("tooltip");return n(),T(e(le),{as:"template",show:s.show},{default:k(()=>[x(e(ne),{as:"div",class:V(["relative z-10",{"pointer-events-none":s.requesting}]),onClose:o[8]||(o[8]=f=>a("close"))},{default:k(()=>[x(e(U),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:k(()=>[Ve]),_:1}),t("div",ze,[t("div",Ae,[x(e(U),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:k(()=>[x(e(ae),{class:"bg-context-50 dark:bg-context-900 relative transform overflow-hidden rounded-lg px-4 pt-5 pb-4 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6"},{default:k(()=>[t("div",null,[t("div",Fe,[x(e(re),{as:"h3",class:"text-lg font-medium leading-6 text-context-900 dark:text-context-100"},{default:k(()=>[H(i(e(c)("email.releaseHint")),1)]),_:1}),t("div",Ue,[t("div",Ne,[t("div",null,[t("label",Ie,i(e(c)("release.host")),1),t("div",Oe,[w(t("input",{id:"host","onUpdate:modelValue":o[0]||(o[0]=f=>e(u).host=f),name:"host",type:"text",autocomplete:"host",required:"",class:"form-input rounded-r-none",placeholder:"smtp.provider.com"},null,512),[[B,e(u).host]]),w(t("input",{id:"port","onUpdate:modelValue":o[1]||(o[1]=f=>e(u).port=f),name:"port",type:"number",min:"1",max:"9999",step:"1",autocomplete:"port",required:"",class:"form-input rounded-l-none w-20",placeholder:"25"},null,512),[[B,e(u).port],[l,e(c)("release.port")]])])]),t("div",null,[t("label",De,i(e(c)("release.auth")),1),t("div",Je,[w(t("input",{id:"smtp-username","onUpdate:modelValue":o[2]||(o[2]=f=>e(u).username=f),name:"smtp-username",type:"text",autocomplete:"smtp-username",class:"form-input rounded-b-none",placeholder:e(c)("release.username")},null,8,He),[[B,e(u).username]]),w(t("input",{id:"smtp-password","onUpdate:modelValue":o[3]||(o[3]=f=>e(u).password=f),name:"smtp-password",type:"password",autocomplete:"smtp-password",class:"form-input rounded-t-none",placeholder:e(c)("release.password")},null,8,Ke),[[B,e(u).password]])])])])])])]),t("div",Ge,[t("button",{type:"button",class:"btn btn--default",onClick:o[4]||(o[4]=f=>a("close"))},i(e(c)("email.cancel")),1),t("div",Pe,[w((n(),r("a",{href:"#",class:"font-medium text-primary-600 hover:text-primary-500",onClick:o[5]||(o[5]=b((...f)=>e(_)&&e(_)(...f),["prevent"]))},[x(e(Me),{class:"h-6 w-6"})])),[[l,e(c)("release.saveToStorage")]]),w((n(),r("a",{href:"#",class:"font-medium text-primary-600 hover:text-primary-500",onClick:o[6]||(o[6]=b((...f)=>e(m)&&e(m)(...f),["prevent"]))},[x(e(Le),{class:"h-6 w-6"})])),[[l,e(c)("release.deleteSavedToStorage")]])]),t("button",{type:"button",class:"btn btn--primary",onClick:o[7]||(o[7]=f=>e(p)(s.email))},i(e(c)("email.release")),1)])]),_:1})]),_:1})])])]),_:1},8,["class"])]),_:1},8,["show"])}}}),We=t("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),Xe={class:"fixed inset-0 z-10 overflow-y-auto"},Ye={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},Ze={class:"text-center sm:mt-5"},et={class:"mt-6 text-left text-context-900 dark:text-context-100"},tt={key:0},st={for:"shareLink",class:"form-label"},ot={class:"mt-1 flex"},nt={key:1},at={for:"expiration_in",class:"form-label"},rt={class:"mt-1 relative"},lt={value:10},it={value:30},dt={value:60},ct={value:180},ut={value:1440},mt={value:10080},pt={class:"mt-6 sm:mt-8 flex items-center justify-between"},xt=t("div",{class:"px-2"},null,-1),ht=["disabled"],vt=J({__name:"ShareEmail",props:{email:{default:null},show:{type:Boolean,default:!1},requesting:{type:Boolean,default:!1}},emits:["close"],setup(s,{emit:a}){const c=N("MailHedgehog"),{t:u}=z(),{shareForm:m,shareLink:y,shareEmail:_}=de();return(p,v)=>(n(),T(e(le),{as:"template",show:s.show},{default:k(()=>[x(e(ne),{as:"div",class:V(["relative z-10",{"pointer-events-none":s.requesting}]),onClose:v[5]||(v[5]=o=>a("close"))},{default:k(()=>[x(e(U),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:k(()=>[We]),_:1}),t("div",Xe,[t("div",Ye,[x(e(U),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:k(()=>[x(e(ae),{class:"bg-context-50 dark:bg-context-900 relative transform overflow-hidden rounded-lg px-4 pt-5 pb-4 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6"},{default:k(()=>[t("div",null,[t("div",Ze,[x(e(re),{as:"h3",class:"text-lg font-medium leading-6 text-context-900 dark:text-context-100"},{default:k(()=>[H(i(e(u)("sharedEmail.modalTitle")),1)]),_:1}),t("div",et,[e(y)?(n(),r("div",tt,[t("label",st,i(e(u)("sharedEmail.form.shareLink.label")),1),t("div",ot,[w(t("input",{id:"shareLink","onUpdate:modelValue":v[0]||(v[0]=o=>se(y)?y.value=o:null),readonly:"",name:"shareLink",type:"text",autocomplete:"off",required:"",class:"form-input rounded-r-none"},null,512),[[B,e(y)]]),t("a",{class:"cursor-pointer form-input border-l-0 rounded-l-none w-auto text-context-400 dark:text-context-600 hover:text-primary-600 transition-all duration-500",onClick:v[1]||(v[1]=b(o=>{var l;return(l=e(c))==null?void 0:l.copyToClipboard(e(y))},["prevent"]))},[x(e(qe),{class:"h-6 flex-shrink-0 pointer-events-none"})])])])):(n(),r("div",nt,[t("label",at,i(e(u)("sharedEmail.form.expiration.label")),1),t("div",rt,[w(t("select",{id:"expiration_in","onUpdate:modelValue":v[2]||(v[2]=o=>e(m).expiration_in=o),name:"expiration_in",class:"form-input cursor-pointer"},[t("option",lt,i(e(u)("sharedEmail.form.expiration.10m")),1),t("option",it,i(e(u)("sharedEmail.form.expiration.30m")),1),t("option",dt,i(e(u)("sharedEmail.form.expiration.1h")),1),t("option",ct,i(e(u)("sharedEmail.form.expiration.3h")),1),t("option",ut,i(e(u)("sharedEmail.form.expiration.1d")),1),t("option",mt,i(e(u)("sharedEmail.form.expiration.7d")),1)],512),[[oe,e(m).expiration_in]]),x(e(je),{class:"h-6 flex-shrink-0 text-context-400 dark:text-context-600 pointer-events-none absolute top-1/2 right-2 -translate-y-1/2","aria-hidden":"true"})])]))])])]),t("div",pt,[t("button",{type:"button",class:"btn btn--default",onClick:v[3]||(v[3]=o=>a("close"))},i(e(u)("email.cancel")),1),xt,t("button",{type:"button",class:"btn btn--primary",disabled:!!e(y),onClick:v[4]||(v[4]=o=>e(_)(s.email))},i(e(u)("sharedEmail.form.submitButton.label")),9,ht)])]),_:1})]),_:1})])])]),_:1},8,["class"])]),_:1},8,["show"]))}}),ft={class:"bg-context-50 dark:bg-context-900 px-4 sm:px-6 lg:px-8 shadow dark:shadow-context-500 mb-6 md:mb-8"},_t={class:"flex justify-between py-3 lg:mx-auto lg:max-w-6xl"},yt={class:"isolate inline-flex rounded-md shadow-sm sm:space-x-3 sm:shadow-none"},wt=["onClick"],kt={class:"hidden md:inline"},bt={class:"isolate inline-flex rounded-md shadow-sm sm:space-x-3 sm:shadow-none"},gt={class:"inline-flex sm:shadow-sm"},$t=["onClick"],Ct={class:"hidden md:inline"},Et={class:"hidden md:inline"},St={class:"hidden md:inline"},Mt={class:"hidden md:inline"},Lt={class:"px-4 sm:px-6 lg:px-8"},Rt={class:"overflow-hidden bg-context-50 dark:bg-context-900 border border-context-300 shadow dark:shadow-context-500 sm:rounded-lg mb-6 lg:mx-auto lg:max-w-6xl"},jt={class:"px-4 py-5 sm:px-6"},qt={class:"text-lg font-medium leading-6 text-context-900 dark:text-context-100 flex justify-between"},Bt={class:"mt-1 max-w-2xl text-sm text-context-500 dark:text-context-400"},Tt={class:"border-t border-context-200 px-4 py-5 sm:p-0"},Vt={class:"sm:divide-y sm:divide-context-200 sm:dark:divide-context-300"},zt={class:"text-sm font-medium text-context-500 dark:text-context-400"},At={class:"mt-1 text-sm text-context-900 dark:text-context-100 sm:col-span-2 sm:mt-0"},Ft={key:0},Ut={key:1,role:"list",class:"divide-y divide-context-200 dark:divide-context-200 rounded-md border border-context-200 dark:border-context-200"},Nt={class:"sm:hidden"},It=["value","selected"],Ot={class:"hidden sm:block lg:mx-auto lg:max-w-6xl"},Dt={class:"border-b border-context-200 dark:border-context-400"},Jt={class:"-mb-px flex space-x-8","aria-label":"Tabs"},Ht=["aria-current","onClick"],Kt={key:0,class:"lg:mx-auto lg:max-w-6xl"},Gt={key:0,class:"py-6"},Pt=["height","srcdoc"],Qt={key:1,class:"flex justify-center items-center"},Wt={class:"ml-4 text-context-900 dark:text-context-100"},Xt={key:1,class:"py-6"},Yt={key:0,class:"text-context-900 dark:text-context-100"},Zt={class:"overflow-auto"},es={key:1,class:"flex justify-center items-center"},ts={class:"ml-4 text-context-900 dark:text-context-100"},ss={key:2,class:"py-6"},os={class:"text-context-900 dark:text-context-100"},ns={class:"overflow-auto"},as={key:3,class:"py-6"},rs={key:0},ls={role:"list",class:"divide-y divide-context-200 rounded-md border border-context-200"},is={class:"flex w-0 flex-1 items-center"},ds={class:"ml-2 w-0 flex-1 text-context-900 dark:text-context-100 truncate"},cs={key:0,class:"ml-2"},us={class:"ml-4 flex-shrink-0"},ms=["onClick"],ps={class:"hidden md:inline"},xs={key:1,class:"flex justify-center items-center"},hs={class:"ml-4 text-context-900 dark:text-context-100"},$s=J({__name:"Email",setup(s){const{t:a}=z(),c=N("MailHedgehog"),u=Y(),m=Z(),y=ve(),_=$(!1),p=$(null),{isAllHeaders:v,headers:o}=_e(p),{currentTab:l,tabs:f}=ye(),{iframeHeight:A,resizeIframe:M}=we(),{downloadEmailAttachment:ce,downloadEmail:ue}=ke(p),{isOpenReleaseModal:I,isRequestingReleaseEmail:K}=ie(),{isSharingEnabled:G,isOpenShareModal:O,isRequestingShareEmail:me}=de(),pe=L=>{_.value=!0,c==null||c.request().get(`emails/${L}`).then(h=>{var C,R;(C=h.data)!=null&&C.data?p.value=(R=h.data)==null?void 0:R.data:p.value=null}).catch(()=>{u.push({path:"/404"})}).finally(()=>{_.value=!1})};ee(()=>{pe(m.params.id)});const P=()=>{u.push({name:"emails",params:{}})},xe=()=>{!p.value||y.dispatch("confirmDialog/confirm").then(()=>{var L;_.value=!0,c==null||c.request().delete(`emails/${(L=p.value)==null?void 0:L.id}`).then(()=>{c==null||c.success(a("email.deleted")),fe(()=>P())}).catch(h=>{c.onResponseError(h,"Response Error")}).finally(()=>{_.value=!1})})};return(L,h)=>{var R,Q,W;const C=te("tooltip");return n(),r(S,null,[t("div",{class:V(["flex flex-col justify-center",{"pointer-events-none opacity-75":_.value||e(K)}])},[t("div",ft,[t("div",_t,[t("div",null,[t("div",yt,[t("button",{type:"button",class:"btn btn--default",onClick:b(P,["prevent"])},[x(e(Re),{class:"md:mr-2 h-5 w-5"}),t("span",kt,i(e(a)("email.back")),1)],8,wt)])]),t("div",null,[t("div",bt,[t("span",gt,[w((n(),r("button",{type:"button",class:"btn btn--default rounded-r-none rounded-l-md",onClick:b(xe,["prevent"])},[x(e(Ee),{class:"md:mr-2 h-5 w-5"}),t("span",Ct,i(e(a)("email.delete")),1)],8,$t)),[[C,e(a)("email.deleteHint")]]),w((n(),r("button",{type:"button",class:"btn btn--default rounded-none",onClick:h[0]||(h[0]=b(d=>e(ue)(),["prevent"]))},[x(e(be),{class:"md:mr-2 h-5 w-5"}),t("span",Et,i(e(a)("email.download")),1)])),[[C,e(a)("email.downloadHint")]]),e(G)?w((n(),r("button",{key:0,type:"button",class:"btn btn--default rounded-none",onClick:h[1]||(h[1]=b(d=>O.value=!0,["prevent"]))},[x(e(Te),{class:"md:mr-2 h-5 w-5"}),t("span",St,i(e(a)("email.share")),1)])),[[C,e(a)("email.shareHint")]]):g("",!0),w((n(),r("button",{type:"button",class:"btn btn--default rounded-r-md rounded-l-none",onClick:h[2]||(h[2]=b(d=>I.value=!0,["prevent"]))},[x(e(Be),{class:"md:mr-2 h-5 w-5"}),t("span",Mt,i(e(a)("email.release")),1)])),[[C,e(a)("email.releaseHint")]])])])])])]),t("div",Lt,[t("div",Rt,[t("div",jt,[t("h3",qt,[t("div",null,i(e(a)("email.headersTitle")),1),t("div",null,[w((n(),r("a",{class:"cursor-pointer",onClick:h[3]||(h[3]=b(d=>v.value=!e(v),["prevent"]))},[e(v)?(n(),T(e(ge),{key:0,class:"text-primary-400 h-5 w-5"})):(n(),T(e(Se),{key:1,class:"text-primary-700 h-5 w-5"}))])),[[C,e(v)?e(a)("email.hintHideHeaders"):e(a)("email.hintShowHeaders")]])])]),t("p",Bt,i(e(a)("email.headersSubtitle")),1)]),t("div",Tt,[t("dl",Vt,[(n(!0),r(S,null,q(e(o),(d,E)=>(n(),r("div",{key:E,class:"py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:py-5 sm:px-6"},[t("dt",zt,i(E),1),t("dd",At,[d.length===1?(n(),r("div",Ft,i(d[0]),1)):(n(),r("ul",Ut,[(n(!0),r(S,null,q(d,(j,F)=>(n(),r("li",{key:F,class:"py-3 pl-3 pr-4 text-sm"},i(j),1))),128))]))])]))),128))])])]),t("div",null,[t("div",Nt,[w(t("select",{id:"tabs","onUpdate:modelValue":h[4]||(h[4]=d=>se(l)?l.value=d:null),name:"tabs",class:"block w-full rounded border-context-300 dark:border-context-600 py-2 pl-3 pr-10 text-base focus:border-primary-500 focus:primary-none focus:ring-primary-500 sm:text-sm"},[(n(!0),r(S,null,q(e(f),d=>(n(),r("option",{key:d.id,value:d.id,selected:e(l)==d.id},i(e(a)(`email.tab.${d.id}`)),9,It))),128))],512),[[oe,e(l)]])]),t("div",Ot,[t("div",Dt,[t("nav",Jt,[(n(!0),r(S,null,q(e(f),d=>{var E,j,F,X;return n(),r("a",{key:d.id,href:"#",class:V(["whitespace-nowrap flex py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-500",[e(l)===d.id?"border-primary-500 text-primary-600":"cursor-pointer border-transparent text-context-500 dark:text-context-400 hover:text-context-700 hover:dark:text-context-300 hover:border-context-200 hover:dark:border-context-400"]]),"aria-current":e(l)===d.id?"page":void 0,onClick:b(vs=>l.value=d.id,["prevent"])},[H(i(e(a)(`email.tab.${d.id}`))+" ",1),d.id==="attachments"&&((j=(E=p.value)==null?void 0:E.attachments)==null?void 0:j.length)!==void 0?(n(),r("span",{key:0,class:V(["inline-block ml-3 py-0.5 px-2.5 rounded-full text-xs font-medium transition-colors duration-500",[e(l)===d.id?"bg-primary-100 text-primary-600":"bg-context-200 dark:bg-context-700 text-context-900 dark:text-context-100"]])},i((X=(F=p.value)==null?void 0:F.attachments)==null?void 0:X.length),3)):g("",!0)],10,Ht)}),128))])])])]),p.value?(n(),r("div",Kt,[e(l)==="html"?(n(),r("div",Gt,[p.value.html?(n(),r("iframe",{key:0,id:"preview-html",height:e(A),srcdoc:p.value.html,class:"w-full border border-context-200 dark:border-context-400",onLoad:h[5]||(h[5]=(...d)=>e(M)&&e(M)(...d))},null,40,Pt)):(n(),r("div",Qt,[x(e(D),{class:"text-primary-500 h-8 w-8"}),t("div",Wt,i(e(a)("email.htmlEmpty")),1)]))])):g("",!0),e(l)==="plain"?(n(),r("div",Xt,[p.value.plain?(n(),r("div",Yt,[t("pre",Zt,i(p.value.plain),1)])):(n(),r("div",es,[x(e(D),{class:"text-primary-500 h-8 w-8"}),t("div",ts,i(e(a)("email.plainEmpty")),1)]))])):g("",!0),e(l)==="source"?(n(),r("div",ss,[t("div",os,[t("pre",ns,i(p.value.source),1)])])):g("",!0),e(l)==="attachments"?(n(),r("div",as,[((Q=(R=p.value)==null?void 0:R.attachments)==null?void 0:Q.length)>0?(n(),r("div",rs,[t("ul",ls,[(n(!0),r(S,null,q((W=p.value)==null?void 0:W.attachments,(d,E)=>(n(),r("li",{key:E,class:"flex items-center justify-between py-3 pl-3 pr-4 text-sm"},[t("div",is,[x(e($e),{class:"text-context-400 dark:text-context-500 flex-shrink-0 h-5 w-5"}),t("span",ds,[t("span",null,i(d.filename),1),d.contentType?(n(),r("span",cs," ("+i(d.contentType)+") ",1)):g("",!0)])]),t("div",us,[t("a",{class:"cursor-pointer font-medium text-primary-500 hover:text-primary-600 transition-colors duration-500",onClick:b(j=>e(ce)(d),["prevent"])},[x(e(Ce),{class:"md:hidden flex-shrink-0 h-5 w-5"}),t("span",ps,i(e(a)("email.download")),1)],8,ms)])]))),128))])])):(n(),r("div",xs,[x(e(D),{class:"text-primary-500 h-8 w-8"}),t("div",hs,i(e(a)("email.noAttachments")),1)]))])):g("",!0)])):g("",!0)])],2),x(Qe,{email:p.value,show:e(I),requesting:_.value||e(K),onClose:h[6]||(h[6]=d=>I.value=!1)},null,8,["email","show","requesting"]),e(G)?(n(),T(vt,{key:0,email:p.value,show:e(O),requesting:_.value||e(me),onClose:h[7]||(h[7]=d=>O.value=!1)},null,8,["email","show","requesting"])):g("",!0)],64)}}});export{$s as default};
