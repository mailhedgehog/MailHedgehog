import{o as v,c as h,a as t,d as k,b as S,i as j,e as u,l as f,k as s,x as M,t as i,s as q,q as x,K as _,v as c,j as z}from"./index.a9fa3614.js";import{a as L,_ as B,L as N}from"./Copyright.vue_vue_type_script_setup_true_lang.f2e6f27e.js";import"./use-outside-click.1cd9ed6a.js";function T(y,o){return v(),h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[t("path",{"fill-rule":"evenodd",d:"M10 1a4.5 4.5 0 00-4.5 4.5V9H5a2 2 0 00-2 2v6a2 2 0 002 2h10a2 2 0 002-2v-6a2 2 0 00-2-2h-.5V5.5A4.5 4.5 0 0010 1zm3 8V5.5a3 3 0 10-6 0V9h6z","clip-rule":"evenodd"})])}const U={class:"flex min-h-screen items-center justify-center px-4 py-12 sm:px-6 lg:px-8 bg-context-100 dark:bg-context-900"},A={class:"w-full max-w-md space-y-8 py-8"},C={class:"flex justify-center items-center"},D=["src","alt"],E={class:"mt-6 text-center text-3xl font-bold tracking-tight text-context-800 dark:text-context-50"},$=["onSubmit"],F={class:"-space-y-px rounded-md shadow-sm"},I={for:"email-address",class:"sr-only"},K=["placeholder"],R={for:"password",class:"sr-only"},G=["placeholder"],J={type:"submit",class:"group relative flex w-full justify-center rounded-md bg-primary-600 px-3 py-2 text-sm font-semibold text-white hover:bg-primary-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary-600"},O={class:"absolute inset-y-0 left-0 flex items-center pl-3"},P={class:"fixed bottom-2 w-full flex justify-center"},Q={class:"fixed top-2 right-2 flex items-center space-x-3"},Z=k({__name:"Login",setup(y){const{t:o}=S(),e=j("MailHedgehog"),b=u(()=>e==null?void 0:e.configValue("ui.appName",null)),w=u(()=>e==null?void 0:e.configValue("ui.appLogoUrl","/MailHedgehog.svg")),g=u(()=>e==null?void 0:e.configValue("ui.appLogoStyle",[])),d=f(!1),n=f({username:null,password:null}),V=()=>{d.value=!0,e==null||e.request().post("login",n.value).then(r=>{var l,a,p,m;(a=(l=r.data)==null?void 0:l.data)!=null&&a.token&&(e==null||e.setAuthToken((m=(p=r.data)==null?void 0:p.data)==null?void 0:m.token),e.goTo({name:"emails"}))}).catch(r=>{e==null||e.error("Error")}).finally(()=>{d.value=!1})};return(r,l)=>(v(),h("div",U,[t("div",A,[t("div",null,[t("div",C,[t("img",{class:"h-8 w-auto mr-2",src:s(w),style:M(s(g)),alt:s(b)||s(o)("app.title")},null,12,D)]),t("h2",E,i(s(o)("login.title")),1)]),t("form",{class:"mt-8 space-y-6",onSubmit:q(V,["prevent"])},[t("div",F,[t("div",null,[t("label",I,i(s(o)("login.form.username.label")),1),x(t("input",{id:"username","onUpdate:modelValue":l[0]||(l[0]=a=>n.value.username=a),name:"username",type:"text",autocomplete:"username",required:"",class:"form-input rounded-b-none focus:z-10 relative",placeholder:s(o)("login.form.username.label")},null,8,K),[[_,n.value.username]])]),t("div",null,[t("label",R,i(s(o)("login.form.password.label")),1),x(t("input",{id:"password","onUpdate:modelValue":l[1]||(l[1]=a=>n.value.password=a),name:"password",type:"password",autocomplete:"current-password",required:"",class:"form-input rounded-t-none focus:z-10 relative",placeholder:s(o)("login.form.password.label")},null,8,G),[[_,n.value.password]])])]),t("div",null,[t("button",J,[t("span",O,[c(s(T),{class:"h-5 w-5 text-primary-500 group-hover:text-primary-400","aria-hidden":"true"})]),z(" "+i(s(o)("login.form.login.label")),1)])])],40,$)]),t("div",P,[c(L,{class:"text-context-800 dark:text-context-50"})]),t("div",Q,[c(B),c(N)])]))}});export{Z as default};
