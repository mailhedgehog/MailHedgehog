import{o as w,c as m,a as f,l as v,e as k,i as b}from"./index.830687ec.js";function x(t,n){return w(),m("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})])}function A(t,n){return w(),m("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m.75 12l3 3m0 0l3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})])}function E(t,n){return w(),m("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"})])}function L(t,n){return w(),m("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18.375 12.739l-7.693 7.693a4.5 4.5 0 01-6.364-6.364l10.94-10.94A3 3 0 1119.5 7.372L8.552 18.32m.009-.01l-.01.01m5.699-9.941l-7.81 7.81a1.5 1.5 0 002.112 2.13"})])}function j(t){const n=v(!1),r=["Subject","From","To","Cc"],c=s=>{const d={};if(s&&s.headers)for(let u=0;u<Object.entries(s.headers).length;u+=1){const[e,o]=Object.entries(s.headers)[u];Array.isArray(o)&&o.length>0&&(n.value||r.includes(e))&&(d[e]=o)}return d},i=k(()=>t.value?c(t.value):null);return{isAllHeaders:n,importantHeaders:r,headers:i}}function B(){return{currentTab:v("html"),tabs:[{id:"html"},{id:"plain"},{id:"source"},{id:"attachments"}]}}function $(){const t=v("0rem");return{iframeHeight:t,resizeIframe:r=>{var s;const i=((s=r.currentTarget.contentWindow)==null?void 0:s.document.documentElement.scrollHeight)+2;t.value=`${i}px`}}}function y(t,n={}){const r=b("MailHedgehog"),c=(e,o,h)=>{const a=new Blob([e],{type:o}),l=document.createElement("a");l.href=URL.createObjectURL(a),l.download=h,l.click(),URL.revokeObjectURL(l.href),l.remove()},i=e=>{var o;return n.urlBuilder?n.urlBuilder(e,t):`emails/${(o=t.value)==null?void 0:o.id}/attachment/${e}`},s=(e,o)=>{if(!t.value)return;const h=i(e);r==null||r.request().get(h).then(()=>{const a=document.createElement("a");a.download=o;let l=`${window.location.protocol}${r==null?void 0:r.request().defaults.baseURL}/${h}`;const p=new URL(l);p.searchParams.set("token",r==null?void 0:r.getAuthToken()),a.href=p.toString(),document.body.appendChild(a),a.click(),document.body.removeChild(a)}).catch(a=>{r.onResponseError(a,"Response Error")}).finally(()=>{})};return{downloadEmailAttachment:e=>{e.data&&e.data.length>0?c(e.data,e.contentType,e.filename):s(e.index,e.filename)},downloadEmail:()=>{t.value&&c(t.value.source,"text/plain",`${t.value.id}.eml`)}}}export{B as a,$ as b,y as c,E as d,L as e,x as f,A as r,j as u};
