import{o as v,c as h,a as e,d as k,b as j,i as S,e as u,l as f,k as s,C as q,t as i,s as z,q as _,K as x,v as c,j as M}from"./index.0fe207fd.js";import{b as B,_ as N,a as T}from"./Copyright.vue_vue_type_script_setup_true_lang.49a68c50.js";import"./use-outside-click.14a43605.js";function U(y,o){return v(),h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M10 1a4.5 4.5 0 00-4.5 4.5V9H5a2 2 0 00-2 2v6a2 2 0 002 2h10a2 2 0 002-2v-6a2 2 0 00-2-2h-.5V5.5A4.5 4.5 0 0010 1zm3 8V5.5a3 3 0 10-6 0V9h6z","clip-rule":"evenodd"})])}const A={class:"flex min-h-screen items-center justify-center px-4 py-12 sm:px-6 lg:px-8 bg-context-100 dark:bg-context-900"},C={class:"w-full max-w-md space-y-8 py-8"},E={class:"flex justify-center items-center"},L=["src","alt"],R={class:"mt-6 text-center text-3xl font-bold tracking-tight text-context-800 dark:text-context-50"},$=["onSubmit"],D={class:"-space-y-px rounded-md shadow-sm"},F={for:"email-address",class:"sr-only"},I=["placeholder"],K={for:"password",class:"sr-only"},G=["placeholder"],J={type:"submit",class:"group relative flex w-full justify-center rounded-md bg-primary-600 px-3 py-2 text-sm font-semibold text-white hover:bg-primary-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary-600"},O={class:"absolute inset-y-0 left-0 flex items-center pl-3"},P={class:"fixed bottom-2 w-full flex justify-center"},Q={class:"fixed top-2 right-2 flex items-center space-x-3"},Z=k({__name:"Login",setup(y){const{t:o}=j(),t=S("MailHedgehog"),b=u(()=>t==null?void 0:t.configValue("ui.appName",null)),w=u(()=>t==null?void 0:t.configValue("ui.appLogoUrl","/MailHedgehog.svg")),g=u(()=>t==null?void 0:t.configValue("ui.appLogoStyle",[])),d=f(!1),n=f({username:null,password:null}),V=()=>{d.value=!0,t==null||t.request().post("login",n.value).then(r=>{var l,a,p,m;(a=(l=r.data)==null?void 0:l.data)!=null&&a.token&&(t==null||t.setAuthToken((m=(p=r.data)==null?void 0:p.data)==null?void 0:m.token),t.goTo({name:"emails"}))}).catch(r=>{t.onResponseError(r,"Response Error")}).finally(()=>{d.value=!1})};return(r,l)=>(v(),h("div",A,[e("div",C,[e("div",null,[e("div",E,[e("img",{class:"h-8 w-auto mr-2",src:s(w),style:q(s(g)),alt:s(b)||s(o)("app.title")},null,12,L)]),e("h2",R,i(s(o)("login.title")),1)]),e("form",{class:"mt-8 space-y-6",onSubmit:z(V,["prevent"])},[e("div",D,[e("div",null,[e("label",F,i(s(o)("login.form.username.label")),1),_(e("input",{id:"username","onUpdate:modelValue":l[0]||(l[0]=a=>n.value.username=a),name:"username",type:"text",autocomplete:"username",required:"",class:"form-input rounded-b-none focus:z-10 relative",placeholder:s(o)("login.form.username.label")},null,8,I),[[x,n.value.username]])]),e("div",null,[e("label",K,i(s(o)("login.form.password.label")),1),_(e("input",{id:"password","onUpdate:modelValue":l[1]||(l[1]=a=>n.value.password=a),name:"password",type:"password",autocomplete:"current-password",required:"",class:"form-input rounded-t-none focus:z-10 relative",placeholder:s(o)("login.form.password.label")},null,8,G),[[x,n.value.password]])])]),e("div",null,[e("button",J,[e("span",O,[c(s(U),{class:"h-5 w-5 text-primary-500 group-hover:text-primary-400","aria-hidden":"true"})]),M(" "+i(s(o)("login.form.login.label")),1)])])],40,$)]),e("div",P,[c(B,{class:"text-context-800 dark:text-context-50"})]),e("div",Q,[c(N),c(T)])]))}});export{Z as default};
